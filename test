generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  email          String     @id @db.VarChar(100)
  username       String?    @db.VarChar(100)
  full_name      String?    @db.VarChar(100)
  password       String     @db.VarChar(100)
  phone_number   Int?       
  photo_profile  String?    @db.VarChar(100)
  street         String?    @db.VarChar(100)
  city           String?    @db.VarChar(100)
  province       String?    @db.VarChar(100)
  country        String?    @db.VarChar(100)
  postal_code    String?    @db.VarChar(100)
  token          String?    @db.VarChar(100)
  shopping_carts Shopping_cart[]

  @@map("users")
}

model Product {
  id      Int @id @default(autoincrement())
  product_name String @db.VarChar(100)
  description String @db.VarChar(100)
  stock Int
  price Int
  color String[]
  size String[]
  image String[]
  rating Int
  shopping_carts Shopping_cart[]

  category Category @relation(fields: [category_id], references: [id])
  category_id Int

  @@map("products")
}

model Category {
  id Int @id @default(autoincrement())
  category_name String @db.VarChar(100)
  products Product[]

  @@map("categories")
}

model Shopping_cart {
  id Int @id @default(autoincrement())
  total Int
  user_email String @db.VarChar(100)
  products Product[]

  user User @relation(fields: [user_email], references: [email])

  @@map("shopping_carts")
}